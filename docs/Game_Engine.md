# Игровой движок Battle City / Tank N 1990

- [Базовые классы](#базовые-классы)
  - [Game](#game)


## Базовые классы

### Game

Основной класс, в котором запускается игровой цикл (loop) и инициализируются все основные игровые сервисы и объекты. Цикл работает с заданным интервалом (loopTimeMs), перебирая массив объектов (loopEntities), в которых отслеживаются изменения.

### Zone

Класс игровой зоны, который содержит матрицу (двумерный массив) - карту местности, где указано расположение всех игровых объектов. Их нужно зарегистрировать (registerEntity), чтобы данные о них автоматически обновлялись (через подписки на события). Выполняет проверку на столкновение объектов (hasCollision).

### View

Графический класс. Содержит пять наложенных друг на друга канвасов (слоёв), на которых отрисовываются разные типы объектов. Их нужно зарегистрировать на нужном слое (bindEntityToLayer), чтобы они автоматически перерисовывались при изменениях (обновление через подписки на события). 

*Пока что используются цветные прямоугольники, нужно будет потом приделать изображения в виде спрайтов.*

### Controller

Класс управления. Ловит нажатия клавиш на клавиатуре (две раскладки - WASD+пробел или стрелки+энтер), которые затем можно снять через соответствующие события.

*Нужно будет потом добавить поддержку других контроллеров (виртуальные кнопки, джостики).*

### Entity

Абстрактная игровая сущность, от которой наследуются все остальные. Содержит общие для всех методы и свойства. 

## Вспомогательные классы

### EventBus

Взят из первого модуля. От него наследуются ряд классов для реализации функционала подписок на события.

